<div class="auth-container">
  <div class="auth-card">
    <!-- Logo Section -->
    <div class="auth-logo">
      <%= image_tag "my-custom-logo.jpeg", alt: "My Custom Sleep Journey", class: "brand-logo" %>
    </div>

    <div class="auth-header">
      <h2>Welcome Back</h2>
      <p>Sign in to your Sleep Journey account</p>
    </div>

    <%= form_with url: login_path, local: true, class: "auth-form", 
                      data: { 
                        controller: "form-persistence",
                        "form-persistence-type-value": "login",
                        "form-persistence-expiry-value": 30
                      } do |form| %>
      <div class="form-group">
        <%= form.label :email, "Email Address", class: "form-label" %>
        <%= form.email_field :email, 
            class: "form-input", 
            placeholder: "Enter your email", 
            required: true,
            autocomplete: "email",
            data: { "form-persistence-target": "field" } %>
      </div>

      <div class="form-group">
        <%= form.label :password, "Password", class: "form-label" %>
        <div class="password-input-wrapper" data-controller="password-visibility">
          <%= form.password_field :password, 
              class: "form-input password-input", 
              placeholder: "Enter your password", 
              required: true,
              autocomplete: "current-password",
              data: { 
                "password-visibility-target": "input",
                "form-persistence-target": "field"
              },
              "aria-label": "Password is hidden" %>
          <button type="button" 
                  class="password-toggle-btn" 
                  data-action="click->password-visibility#toggle"
                  aria-label="Toggle password visibility">
            <span class="password-toggle-icon" data-password-visibility-target="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="#0e3264" stroke-width="2" fill="none"/>
                <circle cx="12" cy="12" r="3" stroke="#0e3264" stroke-width="2" fill="none"/>
              </svg>
            </span>
          </button>
        </div>
      </div>

      <div class="forgot-password-link">
        <%= link_to "Forgot your password?", new_password_path, class: "auth-link-small" %>
      </div>

      <div class="form-actions">
        <%= form.submit "Sign In", class: "btn btn-primary btn-full" %>
      </div>
    <% end %>

    <div class="auth-footer">
      <p>Don't have an account? 
        <%= link_to "Set up your account", signup_path, class: "auth-link" %>
      </p>
    </div>
  </div>
</div>
